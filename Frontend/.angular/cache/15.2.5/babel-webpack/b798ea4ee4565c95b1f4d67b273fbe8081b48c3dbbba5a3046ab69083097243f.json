{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/events.service\";\nimport * as i3 from \"@angular/cdk/dialog\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/dialog\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/datepicker\";\nimport * as i11 from \"@angular/material/select\";\nimport * as i12 from \"@angular/material/core\";\nfunction EventCreateComponent_mat_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const val_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", val_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(val_r3);\n  }\n}\nexport class EventCreateComponent {\n  constructor(fb, _eventService, _dialogRef) {\n    this.fb = fb;\n    this._eventService = _eventService;\n    this._dialogRef = _dialogRef;\n    this.Categoria = ['Rock', 'Pop', 'Eletrônica', 'Metalcore', 'RAP', 'Sertanejo', 'Forró'];\n    this.empForm = this.fb.group({\n      id: '',\n      name: '',\n      date: '',\n      custo: '',\n      localizacao: '',\n      descricao: '',\n      categoria: '',\n      cidade: '',\n      contato: '',\n      imagem: ''\n    });\n  }\n  // onFileSelected(event:any){\n  //   const file: File = event.target.files[0]\n  //   this.empForm.patchValue({image: file})\n  // }\n  GetFileOnLoad(event) {\n    var file = event.target.files[0];\n    var element = document.getElementById(\"fakeFileInput\");\n    if (element != null) {\n      element.value = file?.name;\n    }\n  }\n  onFormSubmit() {\n    if (this.empForm.valid) {\n      this._eventService.createevent(this.empForm.value).subscribe({\n        next: val => {\n          alert('Evento criado com sucesso!');\n          this._dialogRef.close();\n        },\n        error: err => {\n          console.error(err);\n        }\n      });\n    }\n  }\n}\nEventCreateComponent.ɵfac = function EventCreateComponent_Factory(t) {\n  return new (t || EventCreateComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.EventsService), i0.ɵɵdirectiveInject(i3.DialogRef));\n};\nEventCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EventCreateComponent,\n  selectors: [[\"app-event-create\"]],\n  decls: 61,\n  vars: 4,\n  consts: [[\"mat-dialog-title\", \"\"], [3, \"formGroup\", \"ngSubmit\"], [\"mat-dialog-content\", \"\", 1, \"content\"], [1, \"row\"], [\"required\", \"\", \"appearance\", \"outline\", 1, \"width\"], [\"required\", \"\", \"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"name\"], [\"appearance\", \"outline\", 1, \"width\"], [\"required\", \"\", \"matInput\", \"\", \"formControlName\", \"date\", 3, \"matDatepicker\"], [\"matIconSuffix\", \"\", 3, \"for\"], [\"picker\", \"\"], [\"appearance\", \"outline\"], [\"required\", \"\", \"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"localizacao\"], [\"required\", \"\", \"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"cidade\"], [\"required\", \"\", \"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"custo\"], [\"matNativeControl\", \"\", \"required\", \"\", \"formControlName\", \"categoria\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"required\", \"\", \"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"descricao\"], [\"required\", \"\", \"matInput\", \"\", \"type\", \"email\", \"formControlName\", \"contato\"], [\"matInput\", \"\", \"readonly\", \"\", \"type\", \"text\", \"id\", \"fakeFileInput\", 3, \"click\"], [\"hidden\", \"\", \"type\", \"file\", \"accept\", \".csv\", 3, \"change\"], [\"hiddenInput\", \"\"], [\"matSuffix\", \"\"], [\"mat-dialog-action\", \"\", 1, \"action\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", \"color\", \"primary\", 1, \"row\"], [\"routerlink\", \"\", \"mat-raised-button\", \"\", \"color\", \"warn\", 1, \"row\"], [3, \"value\"]],\n  template: function EventCreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \" CADASTRAR NOVO EVENTO\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function EventCreateComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onFormSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"mat-form-field\", 4)(7, \"mat-label\");\n      i0.ɵɵtext(8, \"Nome do evento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"input\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 3)(11, \"mat-form-field\", 6)(12, \"mat-label\");\n      i0.ɵɵtext(13, \"Data do evento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 7);\n      i0.ɵɵelementStart(15, \"mat-hint\");\n      i0.ɵɵtext(16, \"MM/DD/YYYY\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"mat-datepicker-toggle\", 8)(18, \"mat-datepicker\", null, 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 3)(21, \"mat-form-field\", 10)(22, \"mat-label\");\n      i0.ɵɵtext(23, \"Localiza\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"mat-form-field\", 10)(26, \"mat-label\");\n      i0.ɵɵtext(27, \"Cidade\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 3)(30, \"mat-form-field\", 10)(31, \"mat-label\");\n      i0.ɵɵtext(32, \"Pre\\u00E7o $\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"mat-form-field\", 10)(35, \"mat-label\");\n      i0.ɵɵtext(36, \"Categoria\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"mat-select\", 14);\n      i0.ɵɵtemplate(38, EventCreateComponent_mat_option_38_Template, 2, 2, \"mat-option\", 15);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(39, \"div\", 3)(40, \"mat-form-field\", 10)(41, \"mat-label\");\n      i0.ɵɵtext(42, \"Descri\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(43, \"input\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"mat-form-field\", 10)(45, \"mat-label\");\n      i0.ɵɵtext(46, \"Contato\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(47, \"input\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"mat-form-field\")(49, \"mat-label\");\n      i0.ɵɵtext(50, \"Select file\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(51, \"input\", 18);\n      i0.ɵɵlistener(\"click\", function EventCreateComponent_Template_input_click_51_listener() {\n        i0.ɵɵrestoreView(_r4);\n        const _r2 = i0.ɵɵreference(53);\n        return i0.ɵɵresetView(_r2.click());\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"input\", 19, 20);\n      i0.ɵɵlistener(\"change\", function EventCreateComponent_Template_input_change_52_listener($event) {\n        return ctx.GetFileOnLoad($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"mat-icon\", 21);\n      i0.ɵɵtext(55, \"folder_open\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(56, \"div\", 22)(57, \"button\", 23);\n      i0.ɵɵtext(58, \"Salvar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"button\", 24);\n      i0.ɵɵtext(60, \"Cancelar\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(19);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.empForm);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"matDatepicker\", _r0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"for\", _r0);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.Categoria);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.MatIcon, i6.MatButton, i7.MatDialogTitle, i7.MatDialogContent, i8.MatFormField, i8.MatLabel, i8.MatHint, i8.MatSuffix, i9.MatInput, i10.MatDatepicker, i10.MatDatepickerInput, i10.MatDatepickerToggle, i11.MatSelect, i12.MatOption, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\".row[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    gap: 10px;\\r\\n}\\r\\n\\r\\n.content[_ngcontent-%COMP%]{\\r\\n    padding-top: 10px;\\r\\n}\\r\\n\\r\\n.action[_ngcontent-%COMP%]{\\r\\n    align-items: center;\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n.mat-from-field[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.action[_ngcontent-%COMP%]   .save[_ngcontent-%COMP%]{\\r\\n    margin:15px;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]{\\r\\n    flex: auto;\\r\\n    width: 90%;\\r\\n    margin: 15px;\\r\\n}\\r\\n\\r\\n.width[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\nh1[_ngcontent-%COMP%]{\\r\\n    \\r\\n    color: #001679;\\r\\n}\\r\\n\\r\\n.file-name[_ngcontent-%COMP%] {\\r\\n    margin-left: 1rem; \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ldmVudC1jcmVhdGUvZXZlbnQtY3JlYXRlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsU0FBUztBQUNiOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFVBQVU7SUFDVixVQUFVO0lBQ1YsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7O0FBR0E7SUFDSSxvQkFBb0I7SUFDcEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGlCQUFpQixFQUFFLG1DQUFtQztBQUMxRCIsInNvdXJjZXNDb250ZW50IjpbIi5yb3d7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAxMHB4O1xyXG59XHJcblxyXG4uY29udGVudHtcclxuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uYWN0aW9ue1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmctbGVmdDogMTBweDtcclxufVxyXG5cclxuLm1hdC1mcm9tLWZpZWxke1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5hY3Rpb24gLnNhdmV7XHJcbiAgICBtYXJnaW46MTVweDtcclxufVxyXG5cclxuYnV0dG9ue1xyXG4gICAgZmxleDogYXV0bztcclxuICAgIHdpZHRoOiA5MCU7XHJcbiAgICBtYXJnaW46IDE1cHg7XHJcbn1cclxuXHJcbi53aWR0aHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuaDF7XHJcbiAgICAvKiBjb2xvcjogIzcyQ0FBRjsgKi9cclxuICAgIGNvbG9yOiAjMDAxNjc5O1xyXG59XHJcblxyXG4uZmlsZS1uYW1lIHtcclxuICAgIG1hcmdpbi1sZWZ0OiAxcmVtOyAvKiBvciB3aGF0ZXZlciBtYXJnaW4geW91IHJlcXVpcmUgKi9cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;;;IA0CUA,sCAAwD;IAAAA,YAAO;IAAAA,iBAAa;;;;IAAlCA,8BAAa;IAACA,eAAO;IAAPA,4BAAO;;;AChCzE,OAAM,MAAOC,oBAAoB;EAe/BC,YAAmBC,EAAe,EAASC,aAA2B,EAASC,UAA4C;IAAxG,OAAE,GAAFF,EAAE;IAAsB,kBAAa,GAAbC,aAAa;IAAuB,eAAU,GAAVC,UAAU;IAXzF,cAAS,GACT,CACE,MAAM,EACN,KAAK,EACL,YAAY,EACZ,WAAW,EACX,KAAK,EACL,WAAW,EACX,OAAO,CACR;IAGC,IAAI,CAACC,OAAO,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAC3BC,EAAE,EAAE,EAAE;MACNC,IAAI,EAAC,EAAE;MACPC,IAAI,EAAC,EAAE;MACPC,KAAK,EAAC,EAAE;MACRC,WAAW,EAAC,EAAE;MACdC,SAAS,EAAC,EAAE;MACZC,SAAS,EAAC,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,MAAM,EAAC;KACR,CAAC;EACJ;EAEA;EACA;EACA;EACA;EAEOC,aAAa,CAACC,KAAU;IAC7B,IAAIC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAChC,IAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,eAAe,CAA4B;IACjF,IAAGF,OAAO,IAAI,IAAI,EAAE;MAClBA,OAAO,CAACG,KAAK,GAAGN,IAAI,EAAEX,IAAI;;EAG9B;EACAkB,YAAY;IACV,IAAG,IAAI,CAACrB,OAAO,CAACsB,KAAK,EAAC;MACpB,IAAI,CAACxB,aAAa,CAACyB,WAAW,CAAC,IAAI,CAACvB,OAAO,CAACoB,KAAK,CAAC,CAACI,SAAS,CAAC;QAC3DC,IAAI,EAAEC,GAAQ,IAAI;UAChBC,KAAK,CAAC,4BAA4B,CAAC;UACnC,IAAI,CAAC5B,UAAU,CAAC6B,KAAK,EAAE;QACzB,CAAC;QACDC,KAAK,EAAEC,GAAG,IAAI;UACZC,OAAO,CAACF,KAAK,CAACC,GAAG,CAAC;QACpB;OACD,CAAC;;EAEN;;AAvDWnC,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAqC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MDVjC1C,8BAAsB;MACbA,sCAAqB;MAAAA,iBAAK;MAEnCA,+BAAwD;MAA5BA;QAAA,OAAY2C,kBAAc;MAAA,EAAC;MACvD3C,8BAAwC;MAGrBA,8BAAc;MAAAA,iBAAY;MACrCA,2BAA4D;MAC9DA,iBAAiB;MAEnBA,+BAAiB;MAEFA,+BAAc;MAAAA,iBAAY;MACrCA,4BAA2E;MAC3EA,iCAAU;MAAAA,2BAAU;MAAAA,iBAAW;MAC/BA,4CAA4E;MAE9EA,iBAAiB;MAEnBA,+BAAiB;MAEFA,sCAAW;MAAAA,iBAAY;MAClCA,6BAAmE;MACrEA,iBAAiB;MACjBA,2CAAsC;MACzBA,uBAAM;MAAAA,iBAAY;MAC7BA,6BAA8D;MAChEA,iBAAiB;MAMlBA,+BAAiB;MAEHA,6BAAO;MAAAA,iBAAY;MAC9BA,6BAA6D;MAC/DA,iBAAiB;MACjBA,2CAAqC;MACxBA,0BAAS;MAAAA,iBAAY;MAChCA,uCAAkE;MAChEA,sFAA4E;MAC9EA,iBAAa;MAGlBA,+BAAiB;MAEHA,oCAAS;MAAAA,iBAAY;MAChCA,6BAAiE;MACnEA,iBAAiB;MACjBA,2CAAqC;MACxBA,wBAAO;MAAAA,iBAAY;MAC9BA,6BAAgE;MAClEA,iBAAiB;MAQlBA,uCAAgB;MACJA,4BAAW;MAAAA,iBAAY;MAClCA,kCAAsF;MAA9BA;QAAAA;QAAA;QAAA,OAASA,0BAAmB;MAAA,EAAC;MAArFA,iBAAsF;MACtFA,sCAAsF;MAAjCA;QAAA,OAAU2C,yBAAqB;MAAA,EAAC;MAArF3C,iBAAsF;MACtFA,qCAAoB;MAAAA,4BAAW;MAAAA,iBAAW;MAG9CA,gCAAsC;MACgCA,uBAAM;MAAAA,iBAAS;MACnFA,mCAAiE;MAAAA,yBAAQ;MAAAA,iBAAS;;;;MApE9EA,eAAqB;MAArBA,uCAAqB;MAWQA,gBAAwB;MAAxBA,mCAAwB;MAEdA,eAAc;MAAdA,yBAAc;MA0BrBA,gBAAY;MAAZA,uCAAY","names":["i0","EventCreateComponent","constructor","fb","_eventService","_dialogRef","empForm","group","id","name","date","custo","localizacao","descricao","categoria","cidade","contato","imagem","GetFileOnLoad","event","file","target","files","element","document","getElementById","value","onFormSubmit","valid","createevent","subscribe","next","val","alert","close","error","err","console","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\bruna\\OneDrive\\Área de Trabalho\\ProjetoEventsManager\\Frontend\\src\\app\\components\\event-create\\event-create.component.html","C:\\Users\\bruna\\OneDrive\\Área de Trabalho\\ProjetoEventsManager\\Frontend\\src\\app\\components\\event-create\\event-create.component.ts"],"sourcesContent":["<div mat-dialog-title>\n    <h1> CADASTRAR NOVO EVENTO</h1>\n</div>\n<form [formGroup]=\"empForm\" (ngSubmit)=\"onFormSubmit()\">\n<div mat-dialog-content class=\"content\">\n   <div class=\"row\">\n    <mat-form-field  required class=\"width\" appearance=\"outline\">\n        <mat-label>Nome do evento</mat-label>\n        <input required matInput type=\"text\" formControlName=\"name\">\n      </mat-form-field>\n    </div>\n    <div class=\"row\">\n      <mat-form-field  class=\"width\" appearance=\"outline\">\n        <mat-label>Data do evento</mat-label>\n        <input  required  matInput [matDatepicker]=\"picker\" formControlName=\"date\">\n        <mat-hint>MM/DD/YYYY</mat-hint>\n        <mat-datepicker-toggle matIconSuffix [for]=\"picker\"></mat-datepicker-toggle>\n        <mat-datepicker #picker></mat-datepicker>\n      </mat-form-field>\n    </div>\n    <div class=\"row\">\n      <mat-form-field  appearance=\"outline\">\n        <mat-label>Localização</mat-label>\n        <input required matInput type=\"text\" formControlName=\"localizacao\">\n      </mat-form-field>\n      <mat-form-field  appearance=\"outline\">\n        <mat-label>Cidade</mat-label>\n        <input required matInput type=\"text\" formControlName=\"cidade\">\n      </mat-form-field>\n      <!-- <mat-form-field appearance=\"outline\">\n        <mat-label>Categoria</mat-label>\n        <input matInput type=\"text\">\n      </mat-form-field> -->\n     </div>\n     <div class=\"row\">\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Preço $</mat-label>\n        <input required matInput type=\"text\" formControlName=\"custo\">\n      </mat-form-field>\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Categoria</mat-label>\n        <mat-select matNativeControl required formControlName=\"categoria\">\n          <mat-option *ngFor=\"let val of Categoria\" [value]=\"val\">{{val}}</mat-option>\n        </mat-select>\n      </mat-form-field>\n     </div>\n   <div class=\"row\">\n    <mat-form-field  appearance=\"outline\">\n      <mat-label>Descrição</mat-label>\n      <input required matInput type=\"text\" formControlName=\"descricao\">\n    </mat-form-field>\n    <mat-form-field appearance=\"outline\">\n      <mat-label>Contato</mat-label>\n      <input required matInput type=\"email\" formControlName=\"contato\">\n    </mat-form-field>\n   </div>\n  <!-- <div class=\"row\"> \n      <mat-form-field class=\"width\"  appearance=\"outline\">\n        <ngx-mat-file-input  (change)= \"onFileSelected($event)\" matInput formControlName=\"imagem\">\n          </ngx-mat-file-input>\n       </mat-form-field>\n   </div> -->\n   <mat-form-field> \n    <mat-label>Select file</mat-label>\n    <input matInput readonly type=\"text\" id=\"fakeFileInput\" (click)=\"hiddenInput.click()\">\n    <input hidden type=\"file\" accept=\".csv\" #hiddenInput (change)=\"GetFileOnLoad($event)\">\n    <mat-icon matSuffix>folder_open</mat-icon>\n </mat-form-field>\n</div>\n<div mat-dialog-action class=\"action\">\n  <button class=\"row\" mat-raised-button type=\"submit\" color=\"primary\">Salvar</button>\n  <button class=\"row\" routerlink='' mat-raised-button color=\"warn\">Cancelar</button>\n</div>\n</form>","import { DialogRef } from '@angular/cdk/dialog';\nimport { Component } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { EventsService } from 'src/app/services/events.service';\n\n@Component({\n  selector: 'app-event-create',\n  templateUrl: './event-create.component.html',\n  styleUrls: ['./event-create.component.css']\n})\nexport class EventCreateComponent {\n  empForm: FormGroup;\n\n\n  Categoria: string[]=\n  [\n    'Rock',\n    'Pop',\n    'Eletrônica',\n    'Metalcore',\n    'RAP',\n    'Sertanejo',\n    'Forró'\n  ];\n\n  constructor(public fb: FormBuilder, public _eventService:EventsService, public _dialogRef: DialogRef <EventCreateComponent>) {\n    this.empForm = this.fb.group({\n      id: '', \n      name:'',\n      date:'',\n      custo:'',\n      localizacao:'',\n      descricao:'',\n      categoria:'',\n      cidade: '',\n      contato: '',\n      imagem:'' \n    })   \n  }\n\n  // onFileSelected(event:any){\n  //   const file: File = event.target.files[0]\n  //   this.empForm.patchValue({image: file})\n  // }\n\n  public GetFileOnLoad(event: any) {\n    var file = event.target.files[0];\n    var element = document.getElementById(\"fakeFileInput\") as HTMLInputElement | null;\n    if(element != null) {\n      element.value = file?.name;\n    }\n\n  }\n  onFormSubmit() {\n    if(this.empForm.valid){\n      this._eventService.createevent(this.empForm.value).subscribe({\n        next:(val: any) => {\n          alert('Evento criado com sucesso!')\n          this._dialogRef.close();\n        },\n        error:(err) =>{\n          console.error(err)\n        }\n      })\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
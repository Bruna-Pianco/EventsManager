{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nexport class LoginService {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n  }\n  submit(credentials) {\n    return this.http.post('http://localhost:3000/api/user', credentials);\n  }\n  logout() {\n    sessionStorage.removeItem('token');\n    this.router.navigate(['/login']);\n  }\n}\nLoginService.ɵfac = function LoginService_Factory(t) {\n  return new (t || LoginService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.Router));\n};\nLoginService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: LoginService,\n  factory: LoginService.ɵfac,\n  providedIn: 'root'\n});\nexport class AuthService {\n  constructor(router) {\n    this.router = router;\n    this.usuarioAutenticado = false;\n    this.mostrarMenuEmitter = new EventEmitter();\n  }\n  fazerLogin(usuario) {\n    if (usuario.nome === 'usuario@email.com' && usuario.senha === '123456') {\n      this.usuarioAutenticado = true;\n      this.mostrarMenuEmitter.emit(true);\n      this.router.navigate(['/']);\n    } else {\n      this.usuarioAutenticado = false;\n      this.mostrarMenuEmitter.emit(false);\n    }\n  }\n  usuarioEstaAutenticado() {\n    return this.usuarioAutenticado;\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i2.Router));\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac\n});","map":{"version":3,"mappings":";;;AAUA,OAAM,MAAOA,YAAY;EACvBC,YAAoBC,IAAgB,EAAUC,MAAc;IAAxC,SAAI,GAAJD,IAAI;IAAsB,WAAM,GAANC,MAAM;EAAW;EAE/DC,MAAM,CAACC,WAAqB;IAC1B,OAAO,IAAI,CAACH,IAAI,CAACI,IAAI,CAAS,gCAAgC,EAAED,WAAW,CAAC;EAC9E;EAEAE,MAAM;IACJC,cAAc,CAACC,UAAU,CAAC,OAAO,CAAC;IAClC,IAAI,CAACN,MAAM,CAACO,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;EAClC;;AAVWV,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAAW,SAAZX,YAAY;EAAAY,YAFX;AAAM;AAiBpB,OAAM,MAAOC,WAAW;EAMtBZ,YAAoBE,MAAc;IAAd,WAAM,GAANA,MAAM;IAJlB,uBAAkB,GAAY,KAAK;IAE3C,uBAAkB,GAAG,IAAIW,YAAY,EAAW;EAEV;EAEtCC,UAAU,CAACC,OAAgB;IAEzB,IAAIA,OAAO,CAACC,IAAI,KAAK,mBAAmB,IACtCD,OAAO,CAACE,KAAK,KAAK,QAAQ,EAAE;MAE5B,IAAI,CAACC,kBAAkB,GAAG,IAAI;MAE9B,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,IAAI,CAAC;MAElC,IAAI,CAAClB,MAAM,CAACO,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;KAE5B,MAAM;MACL,IAAI,CAACS,kBAAkB,GAAG,KAAK;MAE/B,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAAC,KAAK,CAAC;;EAEvC;EAEAC,sBAAsB;IACpB,OAAO,IAAI,CAACH,kBAAkB;EAChC;;AA5BWN,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAF,SAAXE,WAAW;AAAA","names":["LoginService","constructor","http","router","submit","credentials","post","logout","sessionStorage","removeItem","navigate","factory","providedIn","AuthService","EventEmitter","fazerLogin","usuario","nome","senha","usuarioAutenticado","mostrarMenuEmitter","emit","usuarioEstaAutenticado"],"sourceRoot":"","sources":["C:\\Users\\bruna\\OneDrive\\Área de Trabalho\\ProjetoEventsManager\\Frontend\\src\\app\\account\\login\\login.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { IUsuario } from '../../models/usuario'\r\nimport { ILogin } from '../../models/login.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LoginService {\r\n  constructor(private http: HttpClient, private router: Router) {}\r\n\r\n  submit(credentials: IUsuario): Observable<ILogin>{\r\n    return this.http.post<ILogin>('http://localhost:3000/api/user', credentials);\r\n  }\r\n\r\n  logout(): void{\r\n    sessionStorage.removeItem('token');\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n\r\n  private usuarioAutenticado: boolean = false;\r\n\r\n  mostrarMenuEmitter = new EventEmitter<boolean>();\r\n\r\n  constructor(private router: Router) { }\r\n\r\n  fazerLogin(usuario: Usuario){\r\n\r\n    if (usuario.nome === 'usuario@email.com' && \r\n      usuario.senha === '123456') {\r\n\r\n      this.usuarioAutenticado = true;\r\n\r\n      this.mostrarMenuEmitter.emit(true);\r\n\r\n      this.router.navigate(['/']);\r\n\r\n    } else {\r\n      this.usuarioAutenticado = false;\r\n\r\n      this.mostrarMenuEmitter.emit(false);\r\n    }\r\n  }\r\n\r\n  usuarioEstaAutenticado(){\r\n    return this.usuarioAutenticado;\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}